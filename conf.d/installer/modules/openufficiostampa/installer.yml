name: 'OpenUfficioStampa'
type: module
version: 0.0.1
variables:
    -
        name: identifier
        value: 'OpenPABase::getCurrentSiteaccessIdentifier'
    -
        name: root_node
        value: 'ini(NodeSettings,RootNode,content.ini)'
    -
        name: users
        value: 5
steps:
    -
        type: workflow
        identifier: Post-pubblicazione
        trigger:
            module: content
            function: publish
            connection_type: after
    -
        type: workflow
        identifier: Pre-pubblicazione
        trigger:
            module: content
            function: publish
            connection_type: before
    -
        type: workflow
        identifier: Pre-cancellazione
        trigger:
            module: content
            function: delete
            connection_type: before
    -
        type: workflow
        identifier: Post-assegnazione-stato
        trigger:
            module: content
            function: updateobjectstate
            connection_type: after
    -
        type: workflow
        identifier: Pre-assegnazione-stato
        trigger:
            module: content
            function: updateobjectstate
            connection_type: before
    -
        type: state
        identifier: moderation
    -
        type: content
        identifier: Editor-Base
    -
        type: content
        identifier: Editor-Novita
    -
        type: content
        identifier: Reporter-Novita
    -
        type: contenttree
        identifier: OpenCity
        parent: $root_node
    -
        type: contenttree
        identifier: Novita
        parent: $contenttree_OpenCity_Novita_node
    -
        type: role
        identifier: Reporter-Novita
        apply_to:
            - $content_Reporter-Novita_object
    -
        type: role
        identifier: Moderatori-Novita
        apply_to:
            - $content_Editor-Novita_object
